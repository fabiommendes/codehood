$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "true-false"

title: True False question
description: >
  True-false questions display a list of choices in which the student should judge individually
  whether each one is true or false.
# type: object
# additionalProperties: false
required: [choices]
allOf:
  - $ref: "base-question"
  - type: object
    properties:
      type:
        const: true-false

      grading:
        description: How the question should be graded?
        type: object
        properties:
          strategy:
            $ref: "#/$defs/true-false-grading"
            default: { correct: 100, incorrect: 0 }

      choices:
        description: The list of choices for the question
        type: array
        minItems: 1
        items:
          $ref: "#/$defs/true-false-item"

$defs:
  true-false-grading:
    title: True False grading strategy
    description: >
      A grading strategy for true-false questions. Points are awarded in the 0-100 range.
    type: object
    properties:
      correct:
        description: >
          The number of points as a percentage awarded for a correct answer.
        type: number
        default: 100
        minValue: 0

      incorrect:
        description: >
          The number of points as a percentage subtracted for an incorrect answer.
        type: number
        default: 0
        minValue: 0

  true-false-item:
    title: True False item
    description: >
      A choice for the true-false question. It is a text with an optional feedback.
    allOf:
      - $ref: "base-choice"
      - type: object
        properties:
          correct:
            description: Specify if the choice is correct or not.
            type: boolean
